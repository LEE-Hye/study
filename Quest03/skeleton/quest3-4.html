<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">

	<title>ìˆ«ìì•¼êµ¬ ê²Œì„</title>

	<style>
		body {
			width: 50%;
			max-width: 800px;
			min-width: 480px;
			margin: 0 auto;
		}
	</style>
</head>

<body>
	<h1>ìˆ«ìì•¼êµ¬ ê²Œì„</h1>

	<li style="margin-bottom:5px;">ê²Œì„ì‹œì‘ì„ ëˆ„ë¥´ë©´ ëœë¤ê°’ìœ¼ë¡œ ì„¸ìë¦¬ì˜ ìˆ«ìê°€ ì§€ì •ë©ë‹ˆë‹¤.</li>
	<li style="margin-bottom:5px;">ëœë¤ê°’ ì„¸ìë¦¬ì— í‘œì‹œë˜ëŠ” ê°ê°ì˜ ìˆ«ìëŠ” 0ì´ ë‚˜ì˜¬ ìˆ˜ ì—†ìœ¼ë©° ì„œë¡œ ì¤‘ë³µê°’ì´ ìˆì–´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.</li>
	<li style="margin-bottom:5px;">ìœ ì €ëŠ” ì„ì˜ ì„¸ìë¦¬ë¥¼ ê¸°ë¡í•´ì„œ ë§ëŠ”ì§€ ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</li>
	<li style="margin-bottom:5px;">íšŒë³„ë¡œ ê¸°ë¡í•œ ìˆ«ìì™€ ì„¤ì •ëœìˆ«ìë¥¼ ë¹„êµí•´ì„œ ìƒí™©ì„ í‘œí˜„í•´ ì¤ë‹ˆë‹¤.</li>
	<li style="margin-bottom:5px;">ì•¼êµ¬ê²Œì„ì´ë‹ˆ 9íšŒì•ˆì— ë§ì¶”ê³  ì‹¤íŒ¨ì‹œ íŒ¨ë°°ì…ë‹ˆë‹¤.</li>
	<div class="setDigitForm">
		<input type="submit" value="ê²Œì„ì‹œì‘" class="setDigitSubmit">
	</div>

	<div class="form" style="margin-top:40px;">
		<input type="text" id="guessField" class="guessField">
		<input type="submit" value="ì •ë‹µí™•ì¸" class="guessSubmit">
	</div>

	<div class="resultArea" style="margin-top:40px;">
		<span>ì •ë‹µì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>
	</div>

	<script>
		/**
		  # ì¬ë ¹ì”¨ë¥¼ ìœ„í•œ ê²Œì„ë£° #
		  
				ì •ë‹µì´ 176 ì´ë¼ê³  í–ˆì„ë•Œ
			1. 485 - ë“¤ì–´ë§ëŠ” ìˆ«ìê°€ ì•„ì˜ˆ ì—†ìœ¼ë¯€ë¡œ ì•„ì›ƒ. ì´ë•Œë¶€í„° 4, 5, 8ì´ í›„ë³´ì—ì„œ ë¹ ì§€ë¯€ë¡œ ë‚¨ëŠ” ìˆ«ìëŠ” 1, 2, 3, 6, 7, 9ë‹¤  (resultArea ì•ˆì— ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„  1íšŒ: OUT)
			2. 312 - 1ì´ ìˆì§€ë§Œ ìœ„ì¹˜ê°€ ë‹¤ë¥´ë¯€ë¡œ 1ë³¼. (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  2íšŒ: 1ë³¼)
			3. 167 - ìˆ«ìëŠ” ì „ë¶€ ë§ì§€ë§Œ ìœ„ì¹˜ëŠ” 1ë§Œ ë§ê³  ë‚˜ë¨¸ì§€ ë‘˜ì€ ë‹¤ë¥´ë¯€ë¡œ 1ìŠ¤íŠ¸ë¼ì´í¬ 2ë³¼. (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  3íšŒ: 1S 2B)
				4. 671 - ìˆ«ìëŠ” ì „ë¶€ ë§ì§€ë§Œ ìœ„ì¹˜ëŠ” ë‹¤ë¥´ë¯€ë¡œ 3ë³¼. (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  4íšŒ: 3B)
			5. 176 - ì „ë¶€ ë§ìœ¼ë¯€ë¡œ ìŠ¹ë¦¬ (resultArea ì•ˆì— 1ì¤„ ì¶”ê°€  5íšŒ: 3S ìŠ¹ë¦¬!)     
		*/

		/** TODO: ì—¬ê¸°ì— ê²Œì„ì´ ì‘ë™ë  ìˆ˜ ìˆë„ë¡ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§œë³´ì„¸ìš”  */

		/**
		 * 1. ê²Œì„ ì‹œì‘ í•¨ìˆ˜
		 *  1-1. 2í•¨ìˆ˜ ë¶ˆëŸ¬ì˜¤ê¸°
		 * 2. ì¤‘ë³µê°’ ì—†ëŠ” ëœë¤ê°’ ì €ì¥ í•¨ìˆ˜
		 * 3. ë°°ì—´ì— ì €ì¥ëœ ê°’ê³¼ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ ë¹„êµí•˜ëŠ” í•¨ìˆ˜
		 *  3-1. ìœ ì €ì˜ ì„¸ìë¦¬ ì…ë ¥ê°’ ë°›ì•„ì˜¤ê¸°
		 *  3-2. ë¹„êµ í›„ ê²°ê³¼ í™•ì¸
		 *  3-3. ê²°ê³¼ ì—¬ë¶€ í™”ë©´ì— ì¶œë ¥
		 *  3-4. 9íšŒ ì•ˆì— ì„±ê³µí•˜ì§€ ëª»í–ˆì„ ë•Œ ê²Œì„ ì¢…ë£Œ
		 */

		/** 1. ê²Œì„ ì‹œì‘ í•¨ìˆ˜ */
		var gameStart; 		// ê²Œì„ì‹œì‘ ë²„íŠ¼

		/** 2. ì¤‘ë³µê°’ ì—†ëŠ” ëœë¤ê°’ ì €ì¥ í•¨ìˆ˜ */
		var randomNum;  	// ëœë¤ê°’ ë½‘ê¸°
		var randomArr = []; // ë½‘ì€ ëœë¤ê°’ ë°°ì—´ì— ë‹´ê¸°
		var i; 				// forë¬¸ ë³€ìˆ˜

		/** 3. ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ ì¶”ì¶œ ë¹„êµ í•¨ìˆ˜ */
		var guessValue; 	// ì‚¬ìš©ìì˜ ì¶”ì¸¡ ê°’
		var guessBtn; 		// ì¶”ì¸¡í•œ ê°’ ì •ë‹µ í™•ì¸ ë²„íŠ¼
		var guess1;			// ì‚¬ìš©ìì˜ ì¶”ì¸¡ ê°’ 1ì˜ ìë¦¬
		var guess10; 		// ì‚¬ìš©ìì˜ ì¶”ì¸¡ ê°’ 10ì˜ ìë¦¬
		var guess100; 		// ì‚¬ìš©ìì˜ ì¶”ì¸¡ ê°’ 100ì˜ ìë¦¬
		var guessBall; 		// ëª‡ ë³¼ì¸ì§€ ì„¸ì–´ì¤Œ
		var guessStrike;	// ëª‡ ìŠ¤íŠ¸ë¼ì´í¬ì¸ì§€ ì„¸ì–´ì¤Œ
		var guessOut;		// ëª‡ ì•„ì›ƒì¸ì§€ ì„¸ì–´ì¤Œ
		var guessCount;		// ëª‡ íšŒ ì…ë ¥í–ˆëŠ”ì§€ ì„¸ì–´ì¤Œ
		var resultAreaP;	// ì •ë‹µ ì˜ì—­ ë¶€ëª¨
		var resultAreaSB;	// ì •ë‹µ ìŠ¤íŠ¸ë¼ì´í¬ì¸ì§€ ë³¼ì¸ì§€ ë³´ì—¬ì¤Œ

		gameStart = document.getElementsByClassName('setDigitSubmit')[0]; 	// 1. ê²Œì„ì‹œì‘ ë²„íŠ¼
		guessBtn = document.getElementsByClassName('guessSubmit')[0]; 		// 3. ì¶”ì¸¡í•œ ê°’ ì •ë‹µ í™•ì¸ ë²„íŠ¼
		resultAreaP = document.getElementsByClassName('resultArea')[0];		// 3. ì •ë‹µ ì˜ì—­ ë¶€ëª¨
		resultAreaSB = resultAreaP.getElementsByTagName('span')[0];			// 3. ì •ë‹µ ìŠ¤íŠ¸ë¼ì´í¬ì¸ì§€ ë³¼ì¸ì§€ ë³´ì—¬ì¤Œ
		guessBtn.disabled = true;											// 3. ê²Œì„ ì‹œì‘ ì „ì— ì •ë‹µí™•ì¸ ë²„íŠ¼ ëª»ëˆ„ë¥´ê²Œ
		guessCount = 0;														// 3. ì •ë‹µ í™•ì¸ ëª‡ ë²ˆ ëˆ„ë¥´ëŠ”ì§€

		/** 2. ì¤‘ë³µ ê°’ ì—†ëŠ” ëœë¤ ê°’ ì €ì¥í•˜ëŠ” í•¨ìˆ˜ */
		// ì¤‘ë³µ ì œê±°í•˜ëŠ” ë°©ë²• ë˜ ì°¾ì•„ë³´ê¸°
		function randomHamsu() {
			for (i = 0; i < 3; i++) {
				randomNum = Math.floor(Math.random() * 9) + 1;
				if (randomArr.indexOf(randomNum) === -1) { // indexof : ë°°ì—´ì—ì„œ ì§€ì •ëœ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ ë°˜í™˜. ë°°ì—´ì— ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ -1ì„ ë°˜í™˜
					randomArr.push(randomNum);
				} else {
					i--;
				}
			}

			if (randomArr.length > 3) {

				randomArr.length = 3;
			}
			console.log(randomArr);
			return randomArr;

		};

		/** 1. ê²Œì„ì‹œì‘ ë²„íŠ¼ í´ë¦­ì‹œ ëœë¤ ê°’ ì €ì¥í•˜ëŠ” í•¨ìˆ˜ ë¶ˆëŸ¬ì˜¤ê¸° */
		gameStart.addEventListener('click', function () {

			randomHamsu();
			guessBtn.disabled = false;

			

		});



		/** 3. ë°°ì—´ì— ì €ì¥ëœ ê°’ê³¼ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ ë¹„êµ í•¨ìˆ˜ */

		guessBtn.addEventListener('click', function () {
			guessValue = Number(document.getElementById('guessField').value);
			console.log('guessê°’ ì˜ ë“¤ì–´ì™€ì§€ëŠ”ì§€ : ' + guessValue);

			guess100 = parseInt(guessValue / 100);
			// console.log('100ì˜ ìë¦¬ : ' + guess100);
			guess10 = parseInt((guessValue - guess100 * 100) / 10);
			// console.log('10ì˜ ìë¦¬ : ' + guess10);
			guess1 = guessValue - guess100 * 100 - guess10 * 10;
			// console.log('1ì˜ ìë¦¬ : ' + guess1);

			randomHamsu();
			// console.log(randomArr.indexOf(guess100));
			// console.log(randomArr.indexOf(guess10));
			// console.log(randomArr.indexOf(guess1));

			guessCount++;


			if (guessCount === 9) {
				resultAreaSB.innerHTML = 'ê²Œì„ OVER';
				guessBtn.disabled = true;
			} else {
				for (i = 0; i < randomArr.length; i++) {
					guessBall = 0;
					guessStrike = 0;
					guessOut = 0;
					if (randomArr.indexOf(guess100) > -1) {
						if (randomArr.indexOf(guess100) === 0) {
							guessStrike++;
						} else {
							guessBall++;
						}
					}else{
						guessOut++;
					}
					if (randomArr.indexOf(guess10) > -1) {
						if (randomArr.indexOf(guess10) === 1) {
							guessStrike++;
						} else {
							guessBall++;
						}
					}else{
						guessOut++;
					}
					if (randomArr.indexOf(guess1) > -1) {
						if (randomArr.indexOf(guess1) === 2) {
							guessStrike++;
						} else {
							guessBall++;
						}
					}else{
						guessOut++;
					}

					resultAreaSB.innerHTML = guessBall + 'ë³¼ ' + guessStrike + 'ìŠ¤íŠ¸ë¼ì´í¬ ' + guessOut + 'ì•„ì›ƒ';

					if(guessStrike === 3){
						guessBtn.disabled = true;
						resultAreaSB.innerHTML = 'ì™• ë‹¤ ë§ì·„ìŠµë‹ˆë‹¤~!!ğŸ‰';
					}
					
				}
			}





		});

	</script>
</body>

</html>